# –°–∏—Å—Ç–µ–º–∞ –∞—É–∫—Ü–∏–æ–Ω–æ–≤ Telegram Gift

**–ü—Ä–æ–¥–∞–∫—à–µ–Ω-ready –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –º–Ω–æ–≥–æ—Ä–∞—É–Ω–¥–æ–≤—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –¥–ª—è —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã Telegram.**

[![–î–µ–º–æ](https://img.shields.io/badge/–î–µ–º–æ-funfiesta.games-blue?style=for-the-badge)](https://telegram-gift-auction.funfiesta.games)
[![Telegram –ë–æ—Ç](https://img.shields.io/badge/Telegram-@tggiftauctionbot-0088cc?style=for-the-badge&logo=telegram)](https://t.me/tggiftauctionbot)
[![Mini App](https://img.shields.io/badge/Mini%20App-–û—Ç–∫—Ä—ã—Ç—å-green?style=for-the-badge)](https://t.me/tggiftauctionbot/app)
[![API Docs](https://img.shields.io/badge/API-Swagger-orange?style=for-the-badge)](https://telegram-gift-auction.funfiesta.games/api/docs)

[English version](./README.md)

---

## –ü–æ—á–µ–º—É —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç?

–≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–µ–º–æ –∞—É–∫—Ü–∏–æ–Ω–∞ ‚Äî —ç—Ç–æ **–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –≤ –±–æ—é, –≥–æ—Ç–æ–≤–∞—è –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É —Å–∏—Å—Ç–µ–º–∞**, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –ü—Ä–æ–±–ª–µ–º–∞ | –ù–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ |
|----------|--------------|
| **Race Conditions** | 5-—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (Redlock + Redis cooldown + MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ + –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ + —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã) |
| **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å** | –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∞—É–¥–∏—Ç–∞ ‚Äî –Ω–∏ –æ–¥–Ω–∞ –º–æ–Ω–µ—Ç–∞ –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω–∞ –∏ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ –∏–∑ –Ω–∏–æ—Ç–∫—É–¥–∞ |
| **–°–Ω–∞–π–ø–∏–Ω–≥ –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–µ–∫—É–Ω–¥—É** | –ú–µ—Ö–∞–Ω–∏–∑–º –∞–Ω—Ç–∏-—Å–Ω–∞–π–ø–∏–Ω–≥–∞ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º —Ä–∞—É–Ω–¥–æ–≤ |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | Redis-–∞–¥–∞–ø—Ç–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ |
| **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –£–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä—ã–µ Redis Lua —Å–∫—Ä–∏–ø—Ç—ã + WebSocket —Å—Ç–∞–≤–∫–∏ –¥–æ—Å—Ç–∏–≥–∞—é—Ç **~3,000 rps √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ CPU** —Å p99 –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –º–µ–Ω–µ–µ 5–º—Å |
| **Real-time UX** | WebSocket —Å–æ–±—ã—Ç–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç –≤–∞–∂–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
| **–ù–∞—Ç–∏–≤–Ω—ã–π Telegram** | –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: Login Widget, Mini App –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±–æ—Ç–∞ |

### –ß—Ç–æ –≤—ã–¥–µ–ª—è–µ—Ç —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç

- **–ú–Ω–æ–≥–æ—Ä–∞—É–Ω–¥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã–±—ã–≤–∞–Ω–∏—è** ‚Äî –ù–µ –ø—Ä–æ—Å—Ç–æ–π –∞—É–∫—Ü–∏–æ–Ω ¬´–∫—Ç–æ –±–æ–ª—å—à–µ –∑–∞–ø–ª–∞—Ç–∏—Ç¬ª, –∞ —Å–ª–æ–∂–Ω–∞—è —Ä–∞—É–Ω–¥–æ–≤–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è —Å —á–∞—Å—Ç–∏—á–Ω—ã–º–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è–º–∏ –≤ –∫–∞–∂–¥–æ–º —Ä–∞—É–Ω–¥–µ
- **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º–æ–¥–µ–ª—å —Å –∑–∞–º–æ—Ä–æ–∑–∫–æ–π –±–∞–ª–∞–Ω—Å–∞** ‚Äî –°—É–º–º—ã —Å—Ç–∞–≤–æ–∫ —Å—Ä–∞–∑—É –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –¥–≤–æ–π–Ω—ã–µ —Ç—Ä–∞—Ç—ã –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ–ø–ª–∞—Ç–∏—Ç—å
- **–£–º–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –±–æ—Ç–æ–≤** ‚Äî –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å—Ä–µ–¥–∞ –∞—É–∫—Ü–∏–æ–Ω–∞ —Å –±–æ—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–æ –º–µ—Ä–µ —Ä–∞–∑–≤–∏—Ç–∏—è —Ä–∞—É–Ω–¥–æ–≤
- **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ 300+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö, 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ —Å–ª–æ–∂–Ω—ã—Ö race conditions
- **–ü—Ä–æ–¥–∞–∫—à–µ–Ω –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚Äî Docker Compose —Å MongoDB replica sets, Redis persistence –∏ health checks

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –î–≤–∏–∂–æ–∫ –∞—É–∫—Ü–∏–æ–Ω–æ–≤
- –ú–Ω–æ–≥–æ—Ä–∞—É–Ω–¥–æ–≤—ã–µ –∞—É–∫—Ü–∏–æ–Ω—ã —Å –≤—ã–±—ã–≤–∞–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∫–∞–∫ 3+5+2 –ø–æ 3 —Ä–∞—É–Ω–¥–∞–º)
- –ú–æ–¥–µ–ª—å –æ–¥–Ω–æ–π —Å—Ç–∞–≤–∫–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî —Å—Ç–∞–≤–∫–∏ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å, –Ω–æ –Ω–µ —É–º–µ–Ω—å—à–∞—Ç—å
- –ê–Ω—Ç–∏-—Å–Ω–∞–π–ø–∏–Ω–≥ –∑–∞—â–∏—Ç–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –æ–∫–Ω–æ–º –∏ –ª–∏–º–∏—Ç–æ–º –ø—Ä–æ–¥–ª–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —Ä–∞—É–Ω–¥–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∏—á—å–∏—Ö –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–≤–æ–π —Å—Ç–∞–≤–∫–∏

### –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞** —á–µ—Ä–µ–∑ Redlock (fail-fast —Ä–µ–∂–∏–º, TTL 10—Å)
- **Redis cooldown** –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∞–º —Å—Ç–∞–≤–∫–∞–º–∏ (1—Å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω)
- **MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** —Å–æ snapshot isolation –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º retry
- **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞** —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–µ—Ä—Å–∏–π –Ω–∞ –≤—Å–µ—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã** –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –æ–¥–Ω—É –∞–∫—Ç–∏–≤–Ω—É—é —Å—Ç–∞–≤–∫—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã —Å—Ç–∞–≤–æ–∫

### üöÄ –£–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä—ã–µ —Å—Ç–∞–≤–∫–∏ (Redis Path)
- **–ï–¥–∏–Ω—ã–π Lua —Å–∫—Ä–∏–ø—Ç** –≤—ã–ø–æ–ª–Ω—è–µ—Ç –í–°–Æ –≤–∞–ª–∏–¥–∞—Ü–∏—é + —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ –∞—Ç–æ–º–∞—Ä–Ω–æ (~2–º—Å –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∞—É–∫—Ü–∏–æ–Ω–∞** –∏—Å–∫–ª—é—á–∞—é—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ MongoDB –Ω–∞ –∫–∞–∂–¥—É—é —Å—Ç–∞–≤–∫—É
- **Eager warmup –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∞—É–∫—Ü–∏–æ–Ω–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ—Ö —Å –±–∞–ª–∞–Ω—Å–æ–º > 0
- **ZSET –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã** —Å –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ scores –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∏—á—å–∏—Ö (O(log N) –æ–ø–µ—Ä–∞—Ü–∏–∏)
- **–§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç dirty –¥–∞–Ω–Ω—ã–µ –≤ MongoDB –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- **Fallback —Ä–µ–∂–∏–º** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π MongoDB –ø—É—Ç—å, –µ—Å–ª–∏ –∫—ç—à –Ω–µ –≥–æ—Ç–æ–≤

### ‚ö° WebSocket —Å—Ç–∞–≤–∫–∏ (–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- **–ü—Ä—è–º—ã–µ WebSocket —Å—Ç–∞–≤–∫–∏** –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ö–æ–¥—è—Ç HTTP overhead
- **~3,000 rps √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ CPU** —Å p99 –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –º–µ–Ω–µ–µ 5–º—Å
- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —á–µ—Ä–µ–∑ socket —Å–æ–±—ã—Ç–∏—è
- **Real-time –æ—Ç–≤–µ—Ç—ã** —Å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

### üî• –ö–ª–∞—Å—Ç–µ—Ä–Ω—ã–π —Ä–µ–∂–∏–º (–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
- **Multi-process scaling** —á–µ—Ä–µ–∑ Node.js cluster –º–æ–¥—É–ª—å
- **CLUSTER_WORKERS=auto** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ —è–¥—Ä–∞ CPU
- **–ê–≤—Ç–æ-—Ä–µ—Å—Ç–∞—Ä—Ç** —É–ø–∞–≤—à–∏—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤
- **Redis adapter** —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç Socket.IO –º–µ–∂–¥—É –≤–æ—Ä–∫–µ—Ä–∞–º–∏

### Real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- WebSocket —Å–æ–±—ã—Ç–∏—è: `new-bid`, `auction-update`, `anti-sniping`, `round-complete`
- **WebSocket —Å—Ç–∞–≤–∫–∏**: `auth` + `place-bid` —Å–æ–±—ã—Ç–∏—è –¥–ª—è —É–ª—å—Ç—Ä–∞-–Ω–∏–∑–∫–æ–π –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- 2-–º–∏–Ω—É—Ç–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø–æ—Å–ª–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rejoin –≤ –∫–æ–º–Ω–∞—Ç—É –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
- Redis-–∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è multi-server deployments

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
- **Login Widget** –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ö–µ—à–∞
- **Mini App (TWA)** –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π initData
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±–æ—Ç–∞** —á–µ—Ä–µ–∑ GrammyJS (–æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –ø–µ—Ä–µ–±–∏—Ç–∏–∏ —Å—Ç–∞–≤–∫–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—É–Ω–¥–∞, –∞–Ω—Ç–∏-—Å–Ω–∞–π–ø–∏–Ω–≥)
- –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π)

### –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- –†–∞–∑–¥–µ–ª—å–Ω—ã–π —É—á—ë—Ç `balance` –∏ `frozenBalance`
- –ü–æ–ª–Ω—ã–π audit trail —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å before/after —Å–Ω—ç–ø—à–æ—Ç–∞–º–∏
- Endpoint –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è/–≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤

### Developer Experience
- –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π TypeScript SDK —á–µ—Ä–µ–∑ Nestia
- Swagger/OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –Ω–∞–±–æ—Ä –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (11 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
- Docker Compose –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –£—Ä–æ–≤–µ–Ω—å | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ü–æ—á–µ–º—É |
|---------|------------|--------|
| **Runtime** | Node.js 22+ | –ü–æ—Å–ª–µ–¥–Ω–∏–π LTS —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ async —Ñ–∏—á–∞–º–∏ |
| **Framework** | NestJS 11 + Fastify | 2-3x –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å vs Express |
| **–Ø–∑—ã–∫** | TypeScript (strict) | –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | MongoDB 8.2+ | –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –≥–∏–±–∫–∏–µ —Å—Ö–µ–º—ã, replica sets |
| **–ö—ç—à/–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏** | Redis + Redlock | –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ |
| **Real-time** | Socket.IO + Redis adapter | –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è WebSocket –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è |
| **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** | JWT Bearer tokens | Stateless, distributed-friendly |
| **Telegram** | GrammyJS | –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Telegram –±–æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| **Frontend** | React 19 + Vite | –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ç—É–ª–∏–Ω–≥ |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è** | class-validator + Joi | –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         Frontend (React + Vite)                      ‚îÇ
‚îÇ  - –°–ø–∏—Å–æ–∫ –∏ –¥–µ—Ç–∞–ª–∏ –∞—É–∫—Ü–∏–æ–Ω–æ–≤    - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏‚îÇ
‚îÇ  - –†–∞–∑–º–µ—â–µ–Ω–∏–µ/—É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–º               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
                                    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      Backend (NestJS + Fastify)                      ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  REST API  ‚îÇ  ‚îÇ  WebSocket ‚îÇ  ‚îÇ  Scheduler ‚îÇ  ‚îÇ    Guards    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (Fastify)  ‚îÇ  ‚îÇ (Socket.IO)‚îÇ  ‚îÇ   (Cron)   ‚îÇ  ‚îÇ (Auth/Rate)  ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ        ‚îÇ               ‚îÇ               ‚îÇ                 ‚îÇ          ‚îÇ
‚îÇ        ‚ñº               ‚ñº               ‚ñº                 ‚ñº          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ                      –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  AuctionsService          UsersService         BotService    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ placeBid()            ‚îú‚îÄ deposit()         ‚îú‚îÄ simulate() ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ placeBidFast()        ‚îú‚îÄ withdraw()        ‚îî‚îÄ bid()      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ completeRound()       ‚îî‚îÄ getBalance()                    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ antiSniping()                                            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ getLeaderboard()                                         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  TransactionsService      EventsGateway                      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ recordTransaction()   ‚îú‚îÄ emitNewBid()                    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ getHistory()          ‚îú‚îÄ emitRoundComplete()             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                           ‚îî‚îÄ emitAntiSniping()               ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                    ‚îÇ                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚ñº                      ‚ñº                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ       MongoDB       ‚îÇ  ‚îÇ        Redis        ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ                     ‚îÇ  ‚îÇ                     ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ  users              ‚îÇ  ‚îÇ  –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ     ‚îÇ  ‚îÇ    WebSocket    ‚îÇ
‚îÇ  ‚îú‚îÄ balance         ‚îÇ  ‚îÇ  –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏         ‚îÇ  ‚îÇ    –ö–ª–∏–µ–Ω—Ç—ã      ‚îÇ
‚îÇ  ‚îî‚îÄ frozenBalance   ‚îÇ  ‚îÇ  (Redlock)          ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ                     ‚îÇ  ‚îÇ                     ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ  auctions           ‚îÇ  ‚îÇ  Bid Cache (Lua)    ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ  ‚îú‚îÄ roundsConfig[]  ‚îÇ  ‚îÇ  ‚îú‚îÄ balances        ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ  ‚îî‚îÄ rounds[]        ‚îÇ  ‚îÇ  ‚îú‚îÄ leaderboard     ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ                     ‚îÇ  ‚îÇ  ‚îî‚îÄ dirty tracking  ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ  bids               ‚îÇ  ‚îÇ                     ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ  ‚îú‚îÄ amount          ‚îÇ  ‚îÇ  –ö—É–ª–¥–∞—É–Ω —Å—Ç–∞–≤–æ–∫     ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ  ‚îî‚îÄ status          ‚îÇ  ‚îÇ  (–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)  ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ                     ‚îÇ  ‚îÇ                     ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ  transactions       ‚îÇ  ‚îÇ  Cache Sync (5s)    ‚îÇ  ‚îÇ                 ‚îÇ
‚îÇ  ‚îî‚îÄ –∞—É–¥–∏—Ç           ‚îÇ  ‚îÇ  ‚îî‚îÄ MongoDB writes  ‚îÇ  ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∞—É–∫—Ü–∏–æ–Ω–∞

```
PENDING ‚îÄ‚îÄ[—Å—Ç–∞—Ä—Ç]‚îÄ‚îÄ‚ñ∫ ACTIVE ‚îÄ‚îÄ[—Ä–∞—É–Ω–¥—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã]‚îÄ‚îÄ‚ñ∫ COMPLETED
                        ‚îÇ
                        ‚îú‚îÄ‚îÄ –†–∞—É–Ω–¥ 1: –¢–æ–ø 3 –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç –ø—Ä–µ–¥–º–µ—Ç—ã #1-3
                        ‚îú‚îÄ‚îÄ –†–∞—É–Ω–¥ 2: –¢–æ–ø 5 –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç –ø—Ä–µ–¥–º–µ—Ç—ã #4-8
                        ‚îî‚îÄ‚îÄ –†–∞—É–Ω–¥ 3: –¢–æ–ø 2 –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç –ø—Ä–µ–¥–º–µ—Ç—ã #9-10
                                     ‚îÇ
                                     ‚îî‚îÄ‚îÄ –û—Å—Ç–∞–≤—à–∏–µ—Å—è —Å—Ç–∞–≤–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è
```

### –ü–æ—Ç–æ–∫ —Å—Ç–∞–≤–∫–∏ (5-—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞)

```typescript
POST /api/auctions/:id/bid { amount: 1000 }

// 1. –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (Redlock)
‚Üí –ó–∞—Ö–≤–∞—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å+–∞—É–∫—Ü–∏–æ–Ω (fail-fast, TTL 10—Å)

// 2. Redis Cooldown
‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ 1-—Å–µ–∫—É–Ω–¥–Ω–æ–≥–æ –∫—É–ª–¥–∞—É–Ω–∞ –º–µ–∂–¥—É —Å—Ç–∞–≤–∫–∞–º–∏

// 3. MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è (Snapshot Isolation)
‚Üí –°—Ç–∞—Ä—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å majority write concern

// 4. –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ user.version –∏ bid.__v —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º

// 5. –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å
‚Üí –ë–∞–∑–∞ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Å—Ç–∞–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Å—É–º–º—ã

// –ü—Ä–∏ —É—Å–ø–µ—Ö–µ:
‚Üí –ö–æ–º–º–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, WebSocket —Å–æ–±—ã—Ç–∏–µ
```

### –£–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä—ã–π –ø–æ—Ç–æ–∫ —Å—Ç–∞–≤–∫–∏ (–ï–¥–∏–Ω—ã–π Redis –≤—ã–∑–æ–≤)

```typescript
POST /api/auctions/:id/fast-bid { amount: 1000 }

// 1. –ï–¥–∏–Ω—ã–π –≤—ã–∑–æ–≤ Lua —Å–∫—Ä–∏–ø—Ç–∞ (–í–°–Ø –≤–∞–ª–∏–¥–∞—Ü–∏—è + —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ)
‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞—É–∫—Ü–∏–æ–Ω–∞ –∏–∑ –∫—ç—à–∞ (ACTIVE, –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω)
‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º–∏–Ω–≥–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞—É–Ω–¥–∞ (–Ω–µ –∏—Å—Ç—ë–∫)
‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Redis hash
‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ amount >= minBidAmount
‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç–∞–≤–∫–∏ (–≤–æ–∑–≤—Ä–∞—Ç –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏)
‚Üí –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–º–æ—Ä–æ–∑–∫–∞ –Ω–æ–≤–æ–π —Å—É–º–º—ã
‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ZSET –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ —Å –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º score
‚Üí –ü–æ–º–µ—Ç–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –∏ —Å—Ç–∞–≤–∫–∏ –∫–∞–∫ dirty –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
‚Üí –í–æ–∑–≤—Ä–∞—Ç —É—Å–ø–µ—Ö–∞ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π/–Ω–æ–≤–æ–π —Å—É–º–º–æ–π

// 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ)
‚Üí WebSocket —Å–æ–±—ã—Ç–∏–µ new-bid
‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–Ω–∞ –∞–Ω—Ç–∏-—Å–Ω–∞–π–ø–∏–Ω–≥–∞ (–ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–µ—Ä–µ–±–∏—Ç–∏–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

// 3. –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥)
‚Üí CacheSyncService –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç dirty –¥–∞–Ω–Ω—ã–µ –≤ MongoDB
‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç bulk –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

// –†–µ–∑—É–ª—å—Ç–∞—Ç: ~2–º—Å –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, 2,500+ —Å—Ç–∞–≤–æ–∫/—Å–µ–∫
```

### –ê–Ω—Ç–∏-—Å–Ω–∞–π–ø–∏–Ω–≥ –∑–∞—â–∏—Ç–∞

```
–ö–æ–Ω–µ—Ü —Ä–∞—É–Ω–¥–∞: 10:00:00
–û–∫–Ω–æ –∞–Ω—Ç–∏-—Å–Ω–∞–π–ø–∏–Ω–≥–∞: 5 –º–∏–Ω—É—Ç
–ü—Ä–æ–¥–ª–µ–Ω–∏–µ: 5 –º–∏–Ω—É—Ç
–ú–∞–∫—Å. –ø—Ä–æ–¥–ª–µ–Ω–∏–π: 6

–¢–∞–π–º–ª–∞–π–Ω:
  09:54:59 - –°—Ç–∞–≤–∫–∞ ‚Üí –ë–µ–∑ –ø—Ä–æ–¥–ª–µ–Ω–∏—è (–≤–Ω–µ –æ–∫–Ω–∞)
  09:55:01 - –°—Ç–∞–≤–∫–∞ ‚Üí –†–∞—É–Ω–¥ –ø—Ä–æ–¥–ª—ë–Ω –¥–æ 10:05:00 (–ø—Ä–æ–¥–ª–µ–Ω–∏–µ #1)
  10:04:30 - –°—Ç–∞–≤–∫–∞ ‚Üí –†–∞—É–Ω–¥ –ø—Ä–æ–¥–ª—ë–Ω –¥–æ 10:10:00 (–ø—Ä–æ–¥–ª–µ–Ω–∏–µ #2)
  ... –¥–æ 6 –ø—Ä–æ–¥–ª–µ–Ω–∏–π –º–∞–∫—Å–∏–º—É–º
```

### –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –º–æ–¥–µ–ª—å

```
–ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
  ‚îú‚îÄ‚îÄ balance (–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Å—Ç–∞–≤–æ–∫)
  ‚îî‚îÄ‚îÄ frozenBalance (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç–∞–≤–∫–∞—Ö)

–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç: –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å = balance + frozenBalance + –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –Ω–∞ –ø–æ–±–µ–¥—ã

–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å—Ç–∞–≤–∫–∏:
  –†–∞–∑–º–µ—â–µ–Ω–∏–µ:  balance -= amount,  frozenBalance += amount
  –ü–æ–±–µ–¥–∞:      frozenBalance -= amount  (–¥–µ–Ω—å–≥–∏ –ø–æ—Ç—Ä–∞—á–µ–Ω—ã)
  –í–æ–∑–≤—Ä–∞—Ç:     frozenBalance -= amount, balance += amount (–¥–µ–Ω—å–≥–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã)
```

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π.

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è vs –ë—ã—Å—Ç—Ä–∞—è —Å—Ç–∞–≤–∫–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞:
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞**: MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –ø–æ–ª–Ω—ã–º–∏ ACID –≥–∞—Ä–∞–Ω—Ç–∏—è–º–∏
- **–£–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä–∞—è —Å—Ç–∞–≤–∫–∞**: –ï–¥–∏–Ω—ã–π Redis Lua —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –í–°–Æ –≤–∞–ª–∏–¥–∞—Ü–∏—é + —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –∞—Ç–æ–º–∞—Ä–Ω–æ

| –ú–µ—Ç—Ä–∏–∫–∞ | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è | –£–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä–∞—è (Redis) | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-------------|------------------------|-----------|
| **Concurrent Storm (50 —é–∑–µ—Ä–æ–≤)** | 11.5 req/s, p99=4.3s | 2,452 req/s, p99=19ms | **213x –±—ã—Å—Ç—Ä–µ–µ** |
| **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏** | avg 16ms | avg 2ms | **8x –±—ã—Å—Ç—Ä–µ–µ** |
| **–ú–∞—Å—Å–æ–≤–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å (150)** | 18.5 req/s, p99=2.6s | 438 req/s, p99=12ms | **24x –±—ã—Å—Ç—Ä–µ–µ** |
| **E2E –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** | ‚Äî | 5,556 —Å—Ç–∞–≤–æ–∫/—Å–µ–∫ | ‚Äî |
| **Raw Lua Script –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** | ‚Äî | 58,824 ops/sec | ‚Äî |

### –ó–∞–ø—É—Å–∫ –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

```bash
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º
cd backend && npm run load-test

# –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (Redis path)
cd backend && npm run load-test -- --fast

# –¢—è–∂—ë–ª—ã–π —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç —Å 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
npm run load-test -- --fast --users 100 --deposit 100000 --stress-duration 10000
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   AUCTION SYSTEM LOAD TEST SUITE v1.0.0
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
Fast Bid:  ENABLED (Ultra-fast Redis path)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚úì Concurrent Bid Storm: 50/50 @ 2,452 req/s, p99=19ms
‚úì Rapid Sequential Bids: 20/20, avg=2ms
‚úì High-Frequency Stress: 88 bids @ 17.4 req/s
‚úì Massive Concurrent Stress: 150/150 @ 438 req/s, p99=12ms
‚úì Same-User Race Condition: 0/10 succeeded (expected <10)
‚úì Bid Ordering Verification: ordering=correct
‚úì Financial Integrity: VALID (diff=0.00)

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  ALL TESTS PASSED
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker Compose (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp backend/.env.example backend/.env
cp frontend/.env.example frontend/.env

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
docker compose up --build

# –î–æ—Å—Ç—É–ø:
# - Frontend: http://localhost:5173
# - Backend API: http://localhost:4000/api
# - Swagger Docs: http://localhost:4000/api/docs
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
docker compose -f docker-compose.infra.yml up -d

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
npm install
npm run dev

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ:
npm run dev:backend   # http://localhost:4000
npm run dev:frontend  # http://localhost:5173
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** Node.js 22+, MongoDB 8.2+ (replica set), Redis 7+

```bash
# Backend
cd backend && npm install && npm run start:dev

# Frontend (–¥—Ä—É–≥–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª)
cd frontend && npm install && npm run dev
```

---

## API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <token>`.

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/auth/telegram/webapp` | POST | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Mini App initData |
| `/api/auth/telegram/widget` | POST | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Login Widget |
| `/api/auth/me` | GET | –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/api/auth/refresh` | POST | –û–±–Ω–æ–≤–∏—Ç—å JWT —Ç–æ–∫–µ–Ω |

### –ê—É–∫—Ü–∏–æ–Ω—ã

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/auctions` | GET | –°–ø–∏—Å–æ–∫ –∞—É–∫—Ü–∏–æ–Ω–æ–≤ |
| `/api/auctions` | POST | –°–æ–∑–¥–∞—Ç—å –∞—É–∫—Ü–∏–æ–Ω |
| `/api/auctions/:id` | GET | –î–µ—Ç–∞–ª–∏ –∞—É–∫—Ü–∏–æ–Ω–∞ |
| `/api/auctions/:id/start` | POST | –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞—É–∫—Ü–∏–æ–Ω |
| `/api/auctions/:id/bid` | POST | –°–¥–µ–ª–∞—Ç—å –∏–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å —Å—Ç–∞–≤–∫—É (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—É—Ç—å) |
| `/api/auctions/:id/fast-bid` | POST | –†–∞–∑–º–µ—Å—Ç–∏—Ç—å —Å—Ç–∞–≤–∫—É —á–µ—Ä–µ–∑ Redis (–≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å) |
| `/api/auctions/:id/leaderboard` | GET | –¢–µ–∫—É—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥ |
| `/api/auctions/:id/min-winning-bid` | GET | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –¥–ª—è –ø–æ–±–µ–¥—ã |

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/api/users/balance` | GET | –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å (–¥–æ—Å—Ç—É–ø–Ω—ã–π + –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–π) |
| `/api/users/deposit` | POST | –ü–æ–ø–æ–ª–Ω–∏—Ç—å |
| `/api/users/withdraw` | POST | –í—ã–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ |
| `/api/transactions` | GET | –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π |

### WebSocket —Å–æ–±—ã—Ç–∏—è

**–ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä:**
- `join-auction` - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞—É–∫—Ü–∏–æ–Ω–∞
- `leave-auction` - –û—Ç–ø–∏—Å–∫–∞

**–°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª–∏–µ–Ω—Ç:**
- `new-bid` - –ù–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞
- `auction-update` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞—É–∫—Ü–∏–æ–Ω–∞
- `anti-sniping` - –†–∞—É–Ω–¥ –ø—Ä–æ–¥–ª—ë–Ω
- `round-complete` - –†–∞—É–Ω–¥ –∑–∞–≤–µ—Ä—à—ë–Ω —Å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è–º–∏
- `auction-complete` - –ê—É–∫—Ü–∏–æ–Ω –∑–∞–≤–µ—Ä—à—ë–Ω
- `round-start` - –ù–∞—á–∞–ª—Å—è –Ω–æ–≤—ã–π —Ä–∞—É–Ω–¥

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Backend (`backend/.env`)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | 4000 |
| `MONGODB_URI` | –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è MongoDB | ‚Äî |
| `REDIS_URL` | –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Redis | ‚Äî |
| `JWT_SECRET` | –°–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT | (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω) |
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | ‚Äî |
| `CORS_ORIGIN` | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–π CORS origin | http://localhost:5173 |
| **`CLUSTER_WORKERS`** | **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ (`0`=–æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å, `auto`=–≤—Å–µ —è–¥—Ä–∞)** | **0** |

### Frontend (`frontend/.env`)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `VITE_API_URL` | URL Backend API | http://localhost:4000/api |
| `VITE_SOCKET_URL` | URL WebSocket —Å–µ—Ä–≤–µ—Ä–∞ | http://localhost:4000 |

### Rate Limiting (–¢—Ä–∏ —É—Ä–æ–≤–Ω—è)

- **Short**: 20 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫—É–Ω–¥—É
- **Medium**: 100 –∑–∞–ø—Ä–æ—Å–æ–≤/10 —Å–µ–∫—É–Ω–¥
- **Long**: 300 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É

Localhost –æ–±—Ö–æ–¥–∏—Ç rate limiting –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/          # Guards, errors, types
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è env
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auctions/    # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞—É–∫—Ü–∏–æ–Ω–æ–≤ (1000+ —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/        # JWT + Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bids/        # –ó–∞–ø—Ä–æ—Å—ã —Å—Ç–∞–≤–æ–∫
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events/      # WebSocket gateway
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ redis/       # Redis –∫–ª–∏–µ–Ω—Ç + Redlock + Bid Cache
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram/    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transactions/# –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞—É–¥–∏—Ç
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users/       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/         # MongoDB —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scripts/         # –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/             # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context/         # Auth & notifications
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/           # useSocket, useCountdown
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ i18n/            # –ü–µ—Ä–µ–≤–æ–¥—ã (en/ru)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/           # –°—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–æ—É—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/           # TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ docker-compose.yml       # –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫
‚îú‚îÄ‚îÄ docker-compose.infra.yml # –¢–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îî‚îÄ‚îÄ README.md
```

---

## –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∫—Ä–∞–µ–≤—ã–µ —Å–ª—É—á–∞–∏

| –ö—Ä–∞–µ–≤–æ–π —Å–ª—É—á–∞–π | –†–µ—à–µ–Ω–∏–µ |
|----------------|---------|
| –°—Ç–∞–≤–∫–∞ –≤ –º–æ–º–µ–Ω—Ç –∫–æ–Ω—Ü–∞ —Ä–∞—É–Ω–¥–∞ | –ë—É—Ñ–µ—Ä 100–º—Å –æ—Ç–∫–ª–æ–Ω—è–µ—Ç ¬´—Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–∏–µ¬ª —Å—Ç–∞–≤–∫–∏ |
| –°—Ç–∞–≤–∫–∞ –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–∞ —Ä–∞—É–Ω–¥–∞ | –ò–∑–æ–ª—è—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —á—Ç–µ–Ω–∏—è |
| –ü–∞–¥–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –≤–æ –≤—Ä–µ–º—è —Å—Ç–∞–≤–∫–∏ | MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è; Redis –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏—Å—Ç–µ–∫–∞–µ—Ç |
| 10 –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ –æ—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | Redlock –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ 1; –æ—Å—Ç–∞–ª—å–Ω—ã–µ fail fast |
| Race condition –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å—É–º–º | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å + —Å–µ–º–∞–Ω—Ç–∏–∫–∞ first-write-wins |
| –ë–∞–ª–∞–Ω—Å —É—Ö–æ–¥–∏—Ç –≤ –º–∏–Ω—É—Å | –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã (`min: 0`) + –∞—Ç–æ–º–∞—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `$gte` |
| –†–∞—É–Ω–¥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –±–µ–∑ —Å—Ç–∞–≤–æ–∫ | –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ä–∞—É–Ω–¥—É –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞—É–∫—Ü–∏–æ–Ω–∞ |
| WebSocket –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–æ—Å—Ä–µ–¥–∏ –∞—É–∫—Ü–∏–æ–Ω–∞ | 2-–º–∏–Ω—É—Ç–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ + auto-rejoin |

---

## –î–∏–∑–∞–π–Ω-—Ä–µ—à–µ–Ω–∏—è

**–ü–æ—á–µ–º—É MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏?**
–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏. –ï—Å–ª–∏ —Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —É—Å–ø–µ—à–Ω–æ, –∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ –Ω–µ—Ç ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Ä—è–µ—Ç –¥–µ–Ω—å–≥–∏.

**–ü–æ—á–µ–º—É Redis + Redlock?**
MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã, –Ω–æ –Ω–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –æ—Ç–ø—Ä–∞–≤–∫—É 10 –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

**–ü–æ—á–µ–º—É Fastify –≤–º–µ—Å—Ç–æ Express?**
2-3x –ª—É—á—à–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ –Ω–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å –≤—ã—Å–æ–∫–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å—é.

**–ü–æ—á–µ–º—É —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã —Å—Ç–∞–≤–æ–∫?**
–û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å—É–º–º—ã —Å–æ–∑–¥–∞—é—Ç –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ. –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—É–º–º—ã (–Ω–∞ –∞—É–∫—Ü–∏–æ–Ω) –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –ª–∏–¥–µ—Ä–æ–≤.

**–ü–æ—á–µ–º—É –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–æ–≤?**
Cron-–∑–∞–¥–∞—á–∞ (–∫–∞–∂–¥—ã–µ 5—Å) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–æ–≤ –¥–∞–∂–µ –±–µ–∑ –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞.

**–ü–æ—á–µ–º—É Redis Lua —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä—ã—Ö —Å—Ç–∞–≤–æ–∫?**
MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç ~50-100–º—Å –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø–æ–¥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π –∏–∑-–∑–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫. –ù–∞—à —É–ª—å—Ç—Ä–∞-–±—ã—Å—Ç—Ä—ã–π Lua —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –í–°–Æ –≤–∞–ª–∏–¥–∞—Ü–∏—é (—Å—Ç–∞—Ç—É—Å –∞—É–∫—Ü–∏–æ–Ω–∞, —Ç–∞–π–º–∏–Ω–≥ —Ä–∞—É–Ω–¥–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞) –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ –∑–∞ –æ–¥–∏–Ω –∞—Ç–æ–º–∞—Ä–Ω—ã–π –≤—ã–∑–æ–≤ (~0.02–º—Å), –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è 2,500+ —Å—Ç–∞–≤–æ–∫/—Å–µ–∫ —Å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é —á–µ—Ä–µ–∑ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.

**–ü–æ—á–µ–º—É –µ–¥–∏–Ω—ã–π Lua —Å–∫—Ä–∏–ø—Ç –≤–º–µ—Å—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤—ã–∑–æ–≤–æ–≤?**
–ö–∞–∂–¥—ã–π round-trip –¥–æ Redis –¥–æ–±–∞–≤–ª—è–µ—Ç ~1-2–º—Å —Å–µ—Ç–µ–≤–æ–π –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –û–±—ä–µ–¥–∏–Ω–∏–≤ –ø—Ä–æ–≤–µ—Ä–∫—É –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—é –±–∞–ª–∞–Ω—Å–∞, —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ –≤ –æ–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç, –º—ã –∏—Å–∫–ª—é—á–∞–µ–º 3-4 round-trip'–∞ –∏ –¥–æ—Å—Ç–∏–≥–∞–µ–º 3x –ª—É—á—à–µ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –º–Ω–æ–≥–æ–≤—ã–∑–æ–≤–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º.

**–ü–æ—á–µ–º—É —Ñ–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ Write-Through?**
Real-time –∑–∞–ø–∏—Å—å –≤ MongoDB –Ω–∏–≤–µ–ª–∏—Ä—É–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏. 5-—Å–µ–∫—É–Ω–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—É—é durability (–º–∞–∫—Å. 5 —Å–µ–∫ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–æ–º —Å–±–æ–µ) –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Å—Ç–∞–≤–∫–∏ –º–µ–Ω–µ–µ 2–º—Å.

**–ü–æ—á–µ–º—É eager warmup –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?**
–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫—ç—à–∞ (–ø—Ä–æ–≥—Ä–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —Å—Ç–∞–≤–∫–µ) –¥–æ–±–∞–≤–ª—è–µ—Ç 5-10–º—Å –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–≤–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É. Eager warmup –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∞—É–∫—Ü–∏–æ–Ω–∞ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Å—Ç–∞–±–∏–ª—å–Ω—É—é –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ–Ω–µ–µ 2–º—Å –¥–ª—è –≤—Å–µ—Ö.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
